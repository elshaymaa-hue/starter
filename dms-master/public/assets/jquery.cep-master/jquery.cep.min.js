!function(t){function n(t){return t.toString().replace(/\D/g,"").substr(0,8)}function e(t){var e="",a=n(t);return e=a.length>5?a.substr(0,5)+"-"+a.substr(5,3):a}function a(n,e){t("["+e+"]").each(function(){var a=t(this),r=a.attr(e);n[r]&&a.val(n[r]).trigger("change")})}t.fn.cep=function(r){var u={autofill:!0,autofill_attr:"data-cep",ajax:{url:"http://cep.republicavirtual.com.br/web_cep.php",requestParse:function(t){return t},responseParse:function(t){return t}},init:function(){},done:function(){}};return"object"==typeof r?u=t.extend(u,r):"function"==typeof r&&(u.done=r),this.each(function(){var r=t(this);r.on("keyup",function(){var i=n(r.val());if(r.val(e(i)),8===i.length){r.attr("disabled",!0),u.init(r);var c={formato:"json",cep:i};c=u.ajax.requestParse(c),t.get(u.ajax.url,c,function(t){var n=u.ajax.responseParse(t);u.autofill&&a(n,u.autofill_attr),u.done(r,t)}).always(function(){r.attr("disabled",!1)})}})}),this},t(document).ready(function(){t('[role="cep"]').each(function(){var n=t(this),e={autofill:!0,autofill_attr:null!=n.attr("cep-att")?n.attr("cep-att"):"data-cep",ajax:{url:null!=n.attr("cep-ajax-url")?n.attr("cep-ajax-url"):"http://cep.republicavirtual.com.br/web_cep.php",requestParse:null!=n.attr("cep-ajax-requestParse")?function(t){return window[n.attr("cep-ajax-requestParse")](t)}:function(t){return t},responseParse:null!=n.attr("cep-ajax-responseParse")?function(t){return window[n.attr("cep-ajax-responseParse")](t)}:function(t){return t}},init:null!=n.attr("cep-init")?function(t){window[n.attr("cep-init")](t)}:function(){},done:null!=n.attr("cep-done")?function(t,e){window[n.attr("cep-done")](t,e)}:function(){}};n.cep(e)})})}(jQuery);